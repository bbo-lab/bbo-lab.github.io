<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VidRe: vidre::plugin::dynamic::library Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="vidre.svg"/></td>
  <td id="projectalign">
   <div id="projectname">VidRe<span id="projectnumber">&#160;.</span>
   </div>
   <div id="projectbrief">Video recording software for scientific purposes.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classvidre_1_1plugin_1_1dynamic_1_1library.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classvidre_1_1plugin_1_1dynamic_1_1library-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">vidre::plugin::dynamic::library Class Reference<div class="ingroups"><a class="el" href="group__api.html">C++-API</a> &raquo; <a class="el" href="group__api-core.html">Core library.</a> &raquo; <a class="el" href="group__api-core-plugin.html">Plugins.</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>DLL handler abstraction.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="dynamic_8hh_source.html">libs/core/vidre/plugin/dynamic.hh</a>&gt;</code></p>
<div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for vidre::plugin::dynamic::library:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classvidre_1_1plugin_1_1dynamic_1_1library__coll__graph.svg" width="178" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>DLL handler abstraction. </p>
<p>This class should serve as an abstraction of dlopen (or the respective OS equivalent). It's purpose is not only to load modules, but may be also used for modules that depend on proprietry libraries which are not distributed together with VidRe.</p>
<p>@hidden In the case of propriertry libraries the module should not just fail to load. Instead, it should, itself, be able to detect, if it is required and instead of failing report detailed instructions on how to install the correction version of the proprietry software VidRe was compiled for. This can be for example achieved by using the pattern: </p><div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> * (*foreign_version_function)() = {};</div>
<div class="line"><span class="comment">//...</span></div>
<div class="line"><span class="keywordtype">void</span> *foreign_lib = {};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> init() {</div>
<div class="line">    foreign_lib = dlopen(<span class="stringliteral">&quot;libforeign&quot;</span> <a class="code hl_define" href="group__api-config.html#gaf6f22353c17795c562f3df2cf3857ef8">VIDRE_DLL_EXTENSION</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (not foreign_lib) {</div>
<div class="line">        <span class="comment">// ... report ..</span></div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    foreign_version_function = (<span class="keyword">const</span> <span class="keywordtype">char</span> *(*)()) dlsym(foreign_lib, <span class="stringliteral">&quot;version_function&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (not foreign_version_function) {</div>
<div class="line">        <span class="comment">// ... report ..</span></div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// ... check version ...</span></div>
<div class="line">    <span class="comment">// etc.</span></div>
<div class="line">}</div>
<div class="ttc" id="agroup__api-config_html_gaf6f22353c17795c562f3df2cf3857ef8"><div class="ttname"><a href="group__api-config.html#gaf6f22353c17795c562f3df2cf3857ef8">VIDRE_DLL_EXTENSION</a></div><div class="ttdeci">#define VIDRE_DLL_EXTENSION</div><div class="ttdoc">File extension for dynamically linked libraries.</div><div class="ttdef"><b>Definition</b> config.hh:49</div></div>
</div><!-- fragment --><p> Another method would be to provide a secondary "analysis module". A third method could be to have two plugins, the first loads the the actual plugin. </p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a39e4a65b3d36a345f6a326e948a22dd1" id="r_a39e4a65b3d36a345f6a326e948a22dd1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a39e4a65b3d36a345f6a326e948a22dd1">library</a> ()=default</td></tr>
<tr class="separator:a39e4a65b3d36a345f6a326e948a22dd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add82b33113fba9fb00fcee32b0fd267c" id="r_add82b33113fba9fb00fcee32b0fd267c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#add82b33113fba9fb00fcee32b0fd267c">~library</a> ()</td></tr>
<tr class="separator:add82b33113fba9fb00fcee32b0fd267c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9447055e0c405483c654e7ba02bb1772" id="r_a9447055e0c405483c654e7ba02bb1772"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9447055e0c405483c654e7ba02bb1772">isvalid</a> () const noexcept</td></tr>
<tr class="memdesc:a9447055e0c405483c654e7ba02bb1772"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if valid.  <br /></td></tr>
<tr class="separator:a9447055e0c405483c654e7ba02bb1772"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a1a02c559dc6a6fbcbb4510395f41f1cb" id="r_a1a02c559dc6a6fbcbb4510395f41f1cb"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1a02c559dc6a6fbcbb4510395f41f1cb">handle_</a> = {}</td></tr>
<tr class="separator:a1a02c559dc6a6fbcbb4510395f41f1cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06a0f42fb6b1625ca11510daac2caa1d" id="r_a06a0f42fb6b1625ca11510daac2caa1d"><td class="memItemLeft" align="right" valign="top">std::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a06a0f42fb6b1625ca11510daac2caa1d">ecode_</a> = {}</td></tr>
<tr class="separator:a06a0f42fb6b1625ca11510daac2caa1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a39e4a65b3d36a345f6a326e948a22dd1" name="a39e4a65b3d36a345f6a326e948a22dd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39e4a65b3d36a345f6a326e948a22dd1">&#9670;&#160;</a></span>library()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vidre::plugin::dynamic::library::library </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="add82b33113fba9fb00fcee32b0fd267c" name="add82b33113fba9fb00fcee32b0fd267c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add82b33113fba9fb00fcee32b0fd267c">&#9670;&#160;</a></span>~library()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vidre::plugin::dynamic::library::~library </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9447055e0c405483c654e7ba02bb1772" name="a9447055e0c405483c654e7ba02bb1772"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9447055e0c405483c654e7ba02bb1772">&#9670;&#160;</a></span>isvalid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool vidre::plugin::dynamic::library::isvalid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if valid. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a1a02c559dc6a6fbcbb4510395f41f1cb" name="a1a02c559dc6a6fbcbb4510395f41f1cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a02c559dc6a6fbcbb4510395f41f1cb">&#9670;&#160;</a></span>handle_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void* vidre::plugin::dynamic::library::handle_ = {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a06a0f42fb6b1625ca11510daac2caa1d" name="a06a0f42fb6b1625ca11510daac2caa1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06a0f42fb6b1625ca11510daac2caa1d">&#9670;&#160;</a></span>ecode_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::error_code vidre::plugin::dynamic::library::ecode_ = {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>libs/core/vidre/plugin/<a class="el" href="dynamic_8hh_source.html">dynamic.hh</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacevidre.html">vidre</a></li><li class="navelem"><a class="el" href="namespacevidre_1_1plugin.html">plugin</a></li><li class="navelem"><a class="el" href="classvidre_1_1plugin_1_1dynamic.html">dynamic</a></li><li class="navelem"><a class="el" href="classvidre_1_1plugin_1_1dynamic_1_1library.html">library</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
