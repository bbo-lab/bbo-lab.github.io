<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VidRe: Development</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="vidre.svg"/></td>
  <td id="projectalign">
   <div id="projectname">VidRe<span id="projectnumber">&#160;.</span>
   </div>
   <div id="projectbrief">Video recording software for scientific purposes.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('dev.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Development</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="dev-objective"></a>
Objective</h1>
<p>The objective is to create a videography software suite, that allows to record scientifically relevant data from different types of video sources including supplemental information and data streams (such as timing, audio, etc.). Ultimately we aim at a modular framework that allows to supplement real-time features, such as object recognition combined with feedback.</p>
<h1><a class="anchor" id="dev-design"></a>
Design</h1>
<p>To facilitate remote data acquisition, which may happen on a headless system, recording and displaying data are separated into a backend (the recording service or daemon, respectively) and the frontend (the user interface). The following diagram gives an idea of the components and the acquisition data flow:</p>
<div class="image">
<object type="image/svg+xml" data="overview.svg" style="pointer-events: none;"></object>
</div>
<h2><a class="anchor" id="dev-backend"></a>
Backend</h2>
<p>The backend must—with high reliability and speed—record video frames and additional data from various sources. It should be implemented in the sense of a system service (which also means, it should automatically start on system boot). The service must not crash on partial failures (such as device errors) but continue to operate.</p>
<h3><a class="anchor" id="dev-backend-monitoring"></a>
Monitoring</h3>
<p>Monitoring refers to several aspects. One major aspect is hard-disk space which must be reported to the user interface regularly. For a remote system there are more things to consider, for exmaple temperature or battery status, etc.</p>
<p><b>Requires</b>:<br  />
 <a class="el" href="#core-logging">Logging</a><br  />
 <a class="el" href="#core-sysinfo">System information</a><br  />
</p>
<h3><a class="anchor" id="dev-backend-devices"></a>
Devices</h3>
<p>The major devices, that must be respresented initially are Basler USB3Vision products (via <a href="https://www.baslerweb.com/de-de/software/pylon/">pylon Software</a>) and OnSemi/Aptina Demo3 (via <a href="https://aptina.atlassian.net/wiki/spaces/DEVS/pages/3244099/DevWareX">DevWareX</a>). Additionally, it appears favorable, also to support standard UVC cameras.</p>
<p>Future development, might however, also require additional data, such as GNSS coordinates.</p>
<p><b>Requires</b>:<br  />
 <a class="el" href="#core-plugins">Plugins</a><br  />
 <a class="el" href="#core-storage">Storage</a><br  />
</p>
<h3><a class="anchor" id="dev-backend-storage"></a>
Storage</h3>
<p><b>Requires</b>:<br  />
 <a class="el" href="#core-storage">Storage</a><br  />
</p>
<h3><a class="anchor" id="dev-backend-realtime"></a>
Real-time interface</h3>
<p><span style="color: orange"><b>TBD</b>: The "real-time interface" will probably only require storage access. Implementation-wise we need to think if such access to the data must be granted also to external programs.</span></p>
<h3><a class="anchor" id="dev-backend-transport"></a>
Transport</h3>
<p><b>Requires</b>:<br  />
 core-transport<br  />
</p>
<h3><a class="anchor" id="dev-backend-settings"></a>
Settings</h3>
<p>FIXME</p>
<h2><a class="anchor" id="dev-frontend"></a>
Frontend</h2>
<p>FIXME</p>
<h1><a class="anchor" id="dev-impl"></a>
Implementation</h1>
<h2><a class="anchor" id="dev-lang"></a>
Language(s) and configuration</h2>
<p>Core functionality should be provided in C++ (at least <a href="https://en.cppreference.com/w/cpp/20">C++20</a>). Note, however, that the software must be compilable on at least Linux® and Windows®. For user-interface applications <a href="https://www.qt.io/product/framework">Qt6</a> forms the basis.</p>
<p>While the backend (the recording service or daemon, respectively) will rely on compiled code, interfaces to other languages (mainly Python, but also Matlab and more) will be provided. The frontend (user interface), though, will be a mixture of Python and C++ (see <a href="https://doc.qt.io/qtforpython-6/">Qt for Python</a>). <span style="color: orange"><b>TBD</b>: With respect to the backend, it should be discussed if a terminal UI should be provided to simplify configuration or supervision, especially on a headless, remote machine.</span></p>
<p>For project configuration we use <a href="https://cmake.org/cmake/help/latest/">CMake</a>.</p>
<h2><a class="anchor" id="dev-git"></a>
Version control</h2>
<p>The "main" branch remains in the hands of BBO authors. External developers may not without explicit permission commit there. Instead, they must either use an arranged (read "agreed upon") branch or use github's pull-request feature.</p>
<p><span style="color: orange"><b>TBD</b>: make user-interface independent (see vidre-gui on github)?</span></p>
<h2><a class="anchor" id="dev-docs"></a>
Documentation</h2>
<p>API documentation is generated using <a href="https://doxygen.nl/manual/index.html">Doxygen</a> and published regularly on <a href="https://bbo-lab.github.io/vidre">https://bbo-lab.github.io/vidre</a>. The <br  />
 <a class="el" href="group__api-core-util-uuid.html">UUID</a> documentation should serve as a reference for how to document source code.</p>
<p>Documentation is, however, not limited to the source code. <span style="color: orange"><b>TBD</b>: Run-time documentation and help files are just as well required.</span></p>
<p>Document as much as necessary, but not more (in case of doubt, follow <a href="https://xkcd.com/1343/">XKCD 1343</a> but not <a href="https://xkcd.com/1481/">XKCD 1481</a>).</p>
<h1><a class="anchor" id="dev-libs"></a>
Libraries</h1>
<h2><a class="anchor" id="dev-core"></a>
Core library</h2>
<h3><a class="anchor" id="core-exception"></a>
Error handling</h3>
<p>Error handling, depending on context, uses either standard error codes () or <a class="el" href="group__api-core-exception.html">Errors and exceptions</a>.</p>
<h3><a class="anchor" id="core-logging"></a>
Logging</h3>
<p>FIXME</p>
<h3><a class="anchor" id="core-plugins"></a>
Plugins</h3>
<p><span style="color: orange"><b>TBD</b></span></p>
<p><span style="color: orange"></span></p>
<h3><a class="anchor" id="core-sysinfo"></a>
System information</h3>
<p><span style="color: orange"></span></p>
<p><span style="color: orange"></p><ul>
<li>hard disk status</li>
<li>CPU status <span style="color: orange"><b>TBD</b></span></li>
</ul>
<p></span></p>
<p><span style="color: orange"><span style="color: orange"></span></span></p>
<h3><a class="anchor" id="core-plugins"></a>
Plugins</h3>
<p><span style="color: orange"><span style="color: orange"></span></span></p>
<p><span style="color: orange"><span style="color: orange">TODO</span></span></p>
<p><span style="color: orange"><span style="color: orange"></span></span></p>
<h3><a class="anchor" id="core-storage"></a>
Storage</h3>
<p><span style="color: orange"><span style="color: orange"></span></span></p>
<p><span style="color: orange"><span style="color: orange">TODO </span></span></p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
